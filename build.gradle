// Configure build, dependencies, output jar, and Java compatibility
//----------------------------------------------------------------------------------------------------------------------
plugins {
    id 'java'
    id 'jacoco'
//    id "com.eden.orchidPlugin" version "v0.1.7"
}

group 'com.eden'
version = 'v1.6.0'

sourceCompatibility = '1.8'
targetCompatibility = '1.8'

repositories {
    maven { url 'http://jcenter.bintray.com/' }
    maven { url 'https://jitpack.io' }
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    testCompile 'junit:junit:4.12'

    compile 'org.fusesource.jansi:jansi:1.14'

//    orchidDocsCompile 'io.github.javaeden.orchid:OrchidAll:v0.1.0'
//    orchidDocsCompile 'com.github.JavaEden.Orchid:All:-SNAPSHOT'

}

//orchid {
//    version = "${project.version}"
//    theme   = "com.eden.orchid.bsdoc.BSDocTheme"
//    baseUrl = ""
//}

task sourcesJar(type: Jar, dependsOn: classes) {
    classifier = 'sources'
    from project.sourceSets.main.allSource
}

task javadocJar(type: Jar, dependsOn: javadoc) {
    classifier = 'javadoc'
    from javadoc.destinationDir
}

artifacts {
    archives sourcesJar
    archives javadocJar
}

// Jacoco Code Coverage
//----------------------------------------------------------------------------------------------------------------------
jacocoTestReport {
    reports {
        xml.enabled = true
        html.enabled = true
    }
}
check.dependsOn jacocoTestReport